<%= form_for na_store do |f| %>
  <div class="row">
    <div class="col-xs-12">
      <%= error_explanation na_store %>
    </div>
  </div>


  <div class="row">
    <% NaStore.bool_types.each do |h| %>
      <div class="col-sm-2">
        <div class="form-group">
          <div class="checkbox">
            <label class="control-label">
              <%= f.check_box h, class: 'form-control' %>&nbsp;
              <%= h.to_s.titlecase %>
            </label>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <% NA_HEADERS.in_groups_of(3) do |header_group| %>
    <div class="row">
      <% header_group.each do |h| %>
        <% unless NaStore.bool_types.include?(h) %>
          <div class="col-sm-4">
            <% if h %>
              <div class="form-group">
                <%= f.label h, class: 'control-label' %>
                <%= f.text_field h, class: 'form-control' %>
              </div>
            <% end %>
          </div>
        <% end %>
      <% end %>
    </div>
  <% end %>

  <div class="row">
    <div class="col-sm-6">
      <div class="form-group">
        <%= f.file_field :fz_image, class: 'form-control' %>
      </div>
    </div>
    <div class="col-sm-6"></div>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <div class="form-group">
        <%= f.submit "Save", class: 'btn btn-primary' %>
      </div>
    </div>
  </div>
<% end %>

<script>
  // function readFileAsDataUri(file){
  //   return new Promise(function(fulfill, reject){
  //     var reader = new FileReader();
  //     reader.onload = function(e){
  //       var file_data = e.target.result;
  //       fulfill(file_data);
  //     }
  //     reader.readAsDataURL(file);
  //   });
  // }
  //
  // function repackageFzImage(){
  //   $('form').submit(function(e){
  //     // e.preventDefault();
  //     var f = $(this)[0];
  //     var input;
  //     for(var i = 0; i < f.elements.length; i++){
  //       if($(f.elements[i]).attr('name') == 'na_store[fz_image]'){
  //         input = f.elements[i];
  //         break;
  //       }
  //     }
  //
  //     var file = input.files[0];
  //     if(typeof file != 'undefined'){
  //       // if fz_image has a value
  //       readFileAsDataUri(file).then(function(file_data){
  //         $(input).val(file_data);
  //         return true;
  //       });
  //     }
  //   });
  // }
  //
  // $(document).ready(function(){
  //   repackageFzImage();
  // });
</script>
